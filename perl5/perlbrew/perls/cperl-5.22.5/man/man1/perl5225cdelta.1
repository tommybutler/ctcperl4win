.\" Automatically generated by Pod::Man 4.09 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.if !\nF .nr F 0
.if \nF>0 \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    if !\nF==2 \{\
.        nr % 0
.        nr F 2
.    \}
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "PERL5225CDELTA 1"
.TH PERL5225CDELTA 1 "2018-01-01" "perl v5.22.5" "Perl Programmers Reference Guide"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
perlcdelta \- what is new for cperl v5.22.5
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
This document describes perl-only differences between the cperl 5.22.4
release and the cperl 5.22.5 release.
.PP
For \fBcperl\fR also see \fIChanges\fR and perlcperl
.SH "Security"
.IX Header "Security"
.ie n .SS """@{ \e327 \en }"" buffer overflows"
.el .SS "\f(CW@{ \e327 \en }\fP buffer overflows"
.IX Subsection "@{ 327 n } buffer overflows"
Fixed \f(CW\*(C`@{ \e327 \en }\*(C'\fR tokenizer failures and heap buffer overflows in
\&\f(CW\*(C`sv_vcatpvfn_flags()\*(C'\fR with wrong tracking of \f(CW\*(C`PL_linestr\*(C'\fR, the
currently parsed line buffer. This can easily lead to security
relevant exploits.
.PP
[perl #128951] <https://rt.perl.org/Public/Bug/Display.html?id=128951>
.ie n .SS """eval ""q"" . chr(overlarge)"" stack overflow"
.el .SS "\f(CWeval ``q'' . chr(overlarge)\fP stack overflow"
.IX Subsection "eval ""q"" . chr(overlarge) stack overflow"
In \f(CW\*(C`eval "q" . chr(100000000064)\*(C'\fR generating the error message
\&\f(CW\*(C`Can\*(Aqt find string terminator "XXX"\*(Aq\*(C'\fR was overrunning a local buffer
designed to hold a single utf8 char, since it wasn't allowing for
the \f(CW\*(C`\e0\*(C'\fR at the end.
.PP
[perl #128952] <https://rt.perl.org/Public/Bug/Display.html?id=128952>
.SS "Set umask(0600) before calling mkstemp"
.IX Subsection "Set umask(0600) before calling mkstemp"
\&\s-1POSIX 2008\s0 demands such an umask, but it is still problematic on
Solaris, HP-UX and \s-1AIX\s0 and older libcs, e.g. glibc <= 2.06.
The old umask 0177 was insecure.
.SS "Disallow illegal glob with embedded \s-1NUL\s0"
.IX Subsection "Disallow illegal glob with embedded NUL"
E.g. \f(CW\*(C`<$fh\e000>\*(C'\fR throws now the safe syscalls warning, and errors
with \f(CW\*(C`Glob not terminated\*(C'\fR, and does not pass the illegal glob path
to the internal or external glob.
.PP
See [cperl #342] <https://github.com/perl11/cperl/issues/342>
.ie n .SS "Follow chroot with chdir(""/"")"
.el .SS "Follow chroot with chdir(``/'')"
.IX Subsection "Follow chroot with chdir(/)"
Fixed two security issues with the chroot op:
.PP
* fail on embedded \s-1NUL\s0 in the chroot argument.
Set \f(CW\*(C`errno\*(C'\fR to \s-1EINVAL.\s0
.PP
* If a call to chroot is not followed by a call to chdir(\*(L"/\*(R") the
chroot jail confinement can be violated.  In Perl_pp_chroot: A call to
chroot followed by an operation that may escape from the chroot jail.
Coverity \s-1CID\s0 #165302 Insecure chroot.
.SH "Modules and Pragmata"
.IX Header "Modules and Pragmata"
.SS "Updated Modules and Pragmata"
.IX Subsection "Updated Modules and Pragmata"
.IP "Archive::Tar 2.26" 4
.IX Item "Archive::Tar 2.26"
\&'0' is a valid name for an archive, change 'iter' to check definedness.
See <https://metacpan.org/changes/distribution/Archive\-Tar>
.IP "B::C  1.55_06" 4
.IX Item "B::C 1.55_06"
Better CopFILE_set,
Fixup arenasize refcnt.
Delay cvref to init2, properly set a SvRV to a \s-1XS\s0 sub.
Optimize constpv for CvFILE (less constants to merge for gcc).
Improve \s-1NV\s0 precision by one digit.
Fix to compile in utf8_heavy.pl, abstract and set \f(CW%INC\fR.
Fix generation of \f(CW@B::C::Config::deps\fR on Windows.
Fix !C99 precedence bug (e.g. \s-1MSVC\s0).
Minor refactor to simplify save_hek.
Use the new get_svs, get_avs, get_hvs macros.
.IP "B::Debug  1.26" 4
.IX Item "B::Debug 1.26"
.PD 0
.IP "bignum  0.47" 4
.IX Item "bignum 0.47"
.IP "Config  6.23" 4
.IX Item "Config 6.23"
.PD
U32_MAX keys on 64bit. Better gperf and \*(C+ support.
Add \-\-regen.
.IP "\s-1CPAN\s0  2.18_01" 4
.IX Item "CPAN 2.18_01"
Update from upstream 2.16,
plus keep our cperl and secure \s-1YAML:::XS\s0 support.
.IP "CPAN::Meta  2.150010c" 4
.IX Item "CPAN::Meta 2.150010c"
Merged with Parse::CPAN::Meta,
\&\fIcpan/Parse\-CPAN\-Meta\fR is gone.
.IP "Cpanel::JSON::XS  3.0240" 4
.IX Item "Cpanel::JSON::XS 3.0240"
Update from upstream
.IP "experimental  0.019_01c" 4
.IX Item "experimental 0.019_01c"
.PD 0
.IP "ExtUtils::MM_Unix  8.04_04" 4
.IX Item "ExtUtils::MM_Unix 8.04_04"
.PD
Support filehandles for \f(CW\*(C`MM\->parse_version\*(C'\fR.
.IP "ExtUtils::Liblist::Kid  8.04_06" 4
.IX Item "ExtUtils::Liblist::Kid 8.04_06"
Silence No library found errors on darwin for libSystem.dylib libs.
.IP "HTTP::Tiny 0.070" 4
.IX Item "HTTP::Tiny 0.070"
.PD 0
.IP "\s-1IO\s0  1.38" 4
.IX Item "IO 1.38"
.PD
from latest cperl.
.IP "IO::Socket::IP  0.39" 4
.IX Item "IO::Socket::IP 0.39"
.PD 0
.IP "\s-1JSON::PP\s0 2.97000_04" 4
.IX Item "JSON::PP 2.97000_04"
.PD
Merge 2.97000 from cpan with ours.
.IP "Math::BigInt  1.999811" 4
.IX Item "Math::BigInt 1.999811"
.PD 0
.IP "Math::BigRat  0.2613" 4
.IX Item "Math::BigRat 0.2613"
.IP "Module::CoreList 5.20180101c" 4
.IX Item "Module::CoreList 5.20180101c"
.PD
backported from latest cperl, TieHashDelta is now unused.
.IP "parent  0.236" 4
.IX Item "parent 0.236"
Without \f(CW\*(C`\*(Aq\*(C'\fR as pkg separator.
.IP "Perl::OSType  1.010" 4
.IX Item "Perl::OSType 1.010"
Added msys
.IP "podlators  4.09" 4
.IX Item "podlators 4.09"
Added all the man tests from upstream
.IP "Pod::Perldoc  3.2801" 4
.IX Item "Pod::Perldoc 3.2801"
.PD 0
.IP "Pod::Simple  3.35" 4
.IX Item "Pod::Simple 3.35"
.IP "Pod::Usage  1.69" 4
.IX Item "Pod::Usage 1.69"
.IP "Scalar::Util  1.49_10" 4
.IX Item "Scalar::Util 1.49_10"
.IP "SelfLoader  1.24" 4
.IX Item "SelfLoader 1.24"
.IP "SelectSaver  1.02_01" 4
.IX Item "SelectSaver 1.02_01"
.PD
3\-arg open
.IP "Socket  2.024_02" 4
.IX Item "Socket 2.024_02"
Merge cpan 2.024 with our 2.021_02,
plus fix some problems in their new code.
.IP "Sys::Syslog  0.35" 4
.IX Item "Sys::Syslog 0.35"
.PD 0
.IP "Term::ANSIColor  4.06" 4
.IX Item "Term::ANSIColor 4.06"
.IP "Term::ReadKey  2.37_03" 4
.IX Item "Term::ReadKey 2.37_03"
.PD
from cperl 5.27.3c
.IP "Test::Harness  3.39" 4
.IX Item "Test::Harness 3.39"
Fix and re-enable \fIt/regression.t\fR
.IP "Thread::Queue  3.12" 4
.IX Item "Thread::Queue 3.12"
.PD 0
.IP "Thread::Semaphore  2.13" 4
.IX Item "Thread::Semaphore 2.13"
.IP "threads  2.18_01" 4
.IX Item "threads 2.18_01"
.IP "threads::shared  1.57" 4
.IX Item "threads::shared 1.57"
.IP "Time::HiRes  1.9747_01" 4
.IX Item "Time::HiRes 1.9747_01"
.PD
More Darwin thread fixes for clock_gettime,
Sierra support,
test improvements.
.IP "Time::Local  1.25" 4
.IX Item "Time::Local 1.25"
Less runtime memory: demand-load Carp, Config
.IP "Time::Piece  1.3203" 4
.IX Item "Time::Piece 1.3203"
.PD 0
.IP "Unicode::Collate  1.25" 4
.IX Item "Unicode::Collate 1.25"
.IP "version  0.9918_02c" 4
.IX Item "version 0.9918_02c"
.PD
With the \s-1LYON\s0 concensus, affecting some tests with alpha versions.
e.g. \f(CW\*(C`v1.1_0\*(C'\fR does not warn anymore.
.IP "YAML::LibYAML  0.75" 4
.IX Item "YAML::LibYAML 0.75"
.SH "Utility Changes"
.IX Header "Utility Changes"
.SS "\fIinstallperl\fP"
.IX Subsection "installperl"
.PD 0
.IP "\(bu" 4
.PD
Fixed cperl.exe and cperl*.lib installation on windows.
.SH "Testing"
.IX Header "Testing"
.IP "\(bu" 4
\&\fIt/porting/cmp_version.t\fR was fixed together with \s-1EUMM\s0 to handle
parsing versions from filehandles. Backported.
.SH "Internal Changes"
.IX Header "Internal Changes"
Changes which affect the interface available to \f(CW\*(C`XS\*(C'\fR code go here.  Other
significant internal changes for future core maintainers should be noted as
well.
.IP "\(bu" 4
\&\f(CW\*(C`SvREADONLY_off(sv)\*(C'\fR is only usable as statement, not as expression anymore.
It broke Sun C 5.12, in ByteLoader.
See [cperl #183] <https://github.com/perl11/cperl/issues/183>.
.SH "Selected Bug Fixes"
.IX Header "Selected Bug Fixes"
.IP "aelem_u: fix loop oob for padav" 4
.IX Item "aelem_u: fix loop oob for padav"
Out-of-bounds check elimination in loops has been fixed for lexical
counters.  E.g. with \f(CW\*(C`my @a=(0..4); for my $i (0..$#a) { $a[$i] }\*(C'\fR each
access to \f(CW$a[$i]\fR in the loop is now really converted to the
unchecked faster \fBaelem_u\fR op.
.Sp
Note that multideref ops are not yet converted to omit out-of-bounds
checks. This is only implemented since cperl\-5.25, since it needs to
widen the internal mderef structure.
.IP "fixed \-DH crash on clear" 4
.IX Item "fixed -DH crash on clear"
When clearing a hv (with refcnt 0), HvKEYS crashed with an
invalid mg on a placeholder. Just use HvTOTALKEYS instead.
.IP "Check for null in pp_ghostent et al." 4
.IX Item "Check for null in pp_ghostent et al."
Specifically in the \f(CW\*(C`S_space_join_names_mortal\*(C'\fR static function that
several pp functions call.  On some platforms (such as Gentoo Linux
with torsocks), \f(CW\*(C`hent\->h_aliases\*(C'\fR (where \f(CW\*(C`hent\*(C'\fR is a \f(CW\*(C`struct hostent *\*(C'\fR) may
be null after a \f(CW\*(C`gethostent\*(C'\fR call.
.Sp
[perl #128740] <https://rt.perl.org/Public/Bug/Display.html?id=128740>
.IP "DynaLoader::dl_find_symbol_anywhere" 4
.IX Item "DynaLoader::dl_find_symbol_anywhere"
Fixed return type of \f(CW\*(C`DynaLoader::dl_find_symbol_anywhere()\*(C'\fR,
the address, not the name.
[cperl #352] <https://github.com/perl11/cperl/issues/352>.
.SH "Acknowledgements"
.IX Header "Acknowledgements"
cperl 5.22.5 represents approximately 17 months of development since cperl
5.22.4c and contains approximately 140,000 lines of changes across 880 files
from 3 authors.
.PP
Excluding auto-generated files, documentation and release tools, there were
approximately 54,000 lines of changes to 600 .pm, .t, .c and .h files.
.PP
The following people are known to have contributed the improvements that became
cperl 5.22.5:
.PP
Reini Urban, Slaven Rezic, Father Chrysostomos.
.PP
The list above is almost certainly incomplete as it is automatically generated
from version control history including the perl and cperl repos. In particular,
it does not include the names of the (very much appreciated) contributors who
reported issues to the Perl bug tracker and the cperl github issues.
.PP
Many of the changes included in this version originated in the \s-1CPAN\s0 modules
included in Perl's core. We're grateful to the entire \s-1CPAN\s0 community for
helping Perl to flourish.
.PP
For a more complete list of all of Perl's historical contributors, please see
the \fI\s-1AUTHORS\s0\fR file in the Perl source distribution.
.PP
Generated with:
.PP
.Vb 1
\&    cperl Porting/acknowledgements.pl cperl\-5.22.4..HEAD \-c
.Ve
.SH "Reporting Bugs"
.IX Header "Reporting Bugs"
If you find what you think is a bug, you might check the articles recently
posted to the comp.lang.perl.misc newsgroup and the perl bug database at
https://rt.perl.org/ .  There may also be information at
http://www.perl.org/ , the Perl Home Page.
.PP
If you believe you have an unreported bug, please run the \fIperlbug\fR program
included with your release.  Be sure to trim your bug down to a tiny but
sufficient test case.  Your bug report, along with the output of \f(CW\*(C`perl \-V\*(C'\fR,
will be sent off to perlbug@perl.org to be analysed by the Perl porting team.
.PP
If you think it's a cperl specific bug or trust the cperl developers more 
please file an issue at <https://github.com/perl11/cperl/issues>.
.PP
If the bug you are reporting has security implications, which make it
inappropriate to send to a publicly archived mailing list, then please send it
to perl5\-security\-report@perl.org.  This points to a closed subscription
unarchived mailing list, which includes all the core committers, who will be
able to help assess the impact of issues, figure out a resolution, and help
co-ordinate the release of patches to mitigate or fix the problem across all
platforms on which Perl is supported.  Please only use this address for
security issues in the Perl core, not for modules independently distributed on
\&\s-1CPAN.\s0
.PP
If you trust the cperl developers more, please send an email to
them. The p5p security teams skips many security issues, or are
unwilling to fix them.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
The \fIChanges\fR file for an explanation of how to view exhaustive details on
what changed.
.PP
The \fI\s-1INSTALL\s0\fR file for how to build Perl.
.PP
The \fI\s-1README\s0\fR file for general stuff.
.PP
The \fIArtistic\fR and \fICopying\fR files for copyright information.
